schema: '2.0'
stages:
  first_run:
    cmd: pdflatex  main.tex
    deps:
    - path: 0-abstract.tex
      md5: 04f793df45964622106e4fced993abef
      size: 1954
    - path: 1-introduction.tex
      md5: c06659d58341e9a1393018b62c8cce3d
      size: 5714
    - path: 2-background.tex
      md5: 11a6d5c35065c130da2ad93b5e210cc2
      size: 7856
    - path: 3-aft.tex
      md5: 1e79340323abb803eb1d8aff465d04bb
      size: 12675
    - path: 4-methods.tex
      md5: c32ec288fe1609ea8fab6955b3ae1f7b
      size: 10109
    - path: 5-results.tex
      md5: ae2a3345157baf9a1b4d3a667ee626cf
      size: 10619
    - path: 6-conclusions.tex
      md5: f2f0c5930174d20625b31c46f5ac07b4
      size: 5126
    - path: main.tex
      md5: 764e44a6d2cc6e5a437d078f3d29c9b4
      size: 1227
    outs:
    - path: main-blx.bib
      md5: 5ba7332ec7ecc2dc9c6b1bd96e3d9aad
      size: 342
    - path: main.aux
      md5: 650e102df9c16a6bffcba1e4b42cbcf3
      size: 24962
    - path: main.log
      md5: 08f57e5b7955e78ce08b8b52b5242fbb
      size: 58348
    - path: main.out
      md5: b84a5d8e707eff7228408123f5b93bfd
      size: 4698
    - path: main.pdf
      md5: 65f0eccc94b36d8aca43ca55122b5754
      size: 533176
    - path: main.run.xml
      md5: 2d22ad067e0890475f0a21e186e23136
      size: 2558
  remove_unused_citations:
    cmd: python remove-unused-citations.py bibliography.bib <( checkcites main.aux
      )>| new_bibliography.bib
    deps:
    - path: bibliography.bib
      md5: c0c3d6a261b08978933c91e2f072a4fb
      size: 63506
    - path: main.aux
      md5: 650e102df9c16a6bffcba1e4b42cbcf3
      size: 24962
    - path: remove-unused-citations.py
      md5: 927290ac3e417fb12efe93114b14f9d1
      size: 1341
    outs:
    - path: new_bibliography.bib
      md5: c0c3d6a261b08978933c91e2f072a4fb
      size: 63506
  pre-commmit:
    cmd: pre-commit run --all-files  && chktex -q -V main.tex -n 24 -n 8 -n 1
    deps:
    - path: .pre-commit-config.yaml
      md5: cac5e29a25010f135d7538fd6d966311
      size: 1414
    - path: 0-abstract.tex
      md5: 04f793df45964622106e4fced993abef
      size: 1954
    - path: 1-introduction.tex
      md5: c06659d58341e9a1393018b62c8cce3d
      size: 5714
    - path: 2-background.tex
      md5: 11a6d5c35065c130da2ad93b5e210cc2
      size: 7856
    - path: 3-aft.tex
      md5: 1e79340323abb803eb1d8aff465d04bb
      size: 12675
    - path: 4-methods.tex
      md5: c32ec288fe1609ea8fab6955b3ae1f7b
      size: 10109
    - path: 5-results.tex
      md5: ae2a3345157baf9a1b4d3a667ee626cf
      size: 10619
    - path: 6-conclusions.tex
      md5: f2f0c5930174d20625b31c46f5ac07b4
      size: 5126
    - path: main.tex
      md5: 764e44a6d2cc6e5a437d078f3d29c9b4
      size: 1227
  arxiv:
    cmd: python arxiv.py --directories plots --extensions pdf py yaml csv --title
      "A Training Rate and Survival Heuristic for Inference and Robustness Evaluation
      (TRASHFIRE)"
    deps:
    - path: arxiv.py
      md5: f5bb6d08229986ad1aef6393da99720d
      size: 6958
    - path: plots/
      hash: md5
      md5: 8d5df2c5fa64d8a08c9ec6fac2613ff0.dir
      size: 1204454
      nfiles: 36
    outs:
    - path: A Training Rate and Survival Heuristic for Inference and Robustness Evaluation
        (TRASHFIRE).zip
      hash: md5
      md5: e07f3736aa4c437b679c2166b5cd9b08
      size: 14163343
  replace_bib:
    cmd: cp main.tex new_main.tex &&  sed -i 's/bibliography.bib/new_bibliography.bib/g'
      new_main.tex
    deps:
    - path: main.tex
      md5: 764e44a6d2cc6e5a437d078f3d29c9b4
      size: 1227
    - path: new_bibliography.bib
      md5: c0c3d6a261b08978933c91e2f072a4fb
      size: 63506
    outs:
    - path: new_main.tex
      md5: 7e5afc58b37603ad9988d2b342d19748
      size: 1231
  generate_plots:
    cmd: cd generate_plots && dvc repro && cd ..
  big_run:
    cmd: pdflatex new_main.tex && bibtex new_main && pdflatex  new_main.tex && pdflatex  new_main.tex
      && rm -rf main.pdf main-blx.bib main.aux main.log main.out main.run.xml main.bbl
    deps:
    - path: new_bibliography.bib
      hash: md5
      md5: c0c3d6a261b08978933c91e2f072a4fb
      size: 63506
    - path: new_main.tex
      hash: md5
      md5: 7e5afc58b37603ad9988d2b342d19748
      size: 1231
    outs:
    - path: new_main-blx.bib
      hash: md5
      md5: 5ba7332ec7ecc2dc9c6b1bd96e3d9aad
      size: 342
    - path: new_main.aux
      hash: md5
      md5: f63c78f2137148f9a55fd2395930ccb2
      size: 32540
    - path: new_main.bbl
      hash: md5
      md5: b511e039fa4daa447436ba79f70e8a5e
      size: 68168
    - path: new_main.log
      hash: md5
      md5: d90bd3bd7dc51afa32a242d804cf591c
      size: 38864
    - path: new_main.out
      hash: md5
      md5: b84a5d8e707eff7228408123f5b93bfd
      size: 4698
    - path: new_main.pdf
      hash: md5
      md5: 7204e5868a379087de5903f72deab04e
      size: 553728
    - path: new_main.run.xml
      hash: md5
      md5: 61f7020ecb7b15a652cad2823b690dc4
      size: 2598
