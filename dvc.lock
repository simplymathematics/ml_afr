schema: '2.0'
stages:
  prepare_images@cifar100:
    cmd: python flatten.py --directories cifar100
    deps:
    - path: cifar100/
      md5: db24398d5c6ceb7b5f9f3096873d861b.dir
      size: 2122108
      nfiles: 15
    - path: flatten.py
      md5: d203bc3a88a44cda3b794373cb379b25
      size: 2761
    outs:
    - path: cifar100_adv_accuracy_vs_attack_type.eps
      md5: 84ae160447ea8cd7a872a982c3837584
      size: 109746
    - path: cifar100_adv_accuracy_vs_defence_type.eps
      md5: 169b34edcb168e2f4211adf87b3d42a4
      size: 106548
    - path: cifar100_adv_failure_rate_vs_train_time.eps
      md5: 7765a2b879024f4fb1f3cdb570245e1e
      size: 1119464
    - path: cifar100_adv_failures_per_train_time_vs_attack_type.eps
      md5: 74902bab65c6ce8dd989a45e625cf1d6
      size: 133752
    - path: cifar100_adv_failures_per_train_time_vs_defence_type.eps
      md5: 20fd22282e92660fb6107bf188fb3a84
      size: 121862
    - path: cifar100_aft_comparison.tex
      md5: e3d53b838dd94b98800609ed0c9c5e11
      size: 606
    - path: cifar100_atk_param_vs_accuracy.eps
      md5: 73631441b3a77a334c42f560e72fc292
      size: 39663
    - path: cifar100_ben_accuracy_vs_defence_type.eps
      md5: 855f2ecd30b8a10b2e9e822640607f37
      size: 113268
    - path: cifar100_ben_failures_per_train_time_vs_defence_type.eps
      md5: 5dfd57f90bd338c0572a64551e1f335a
      size: 118866
    - path: cifar100_def_param_vs_accuracy.eps
      md5: 764051dc8f8a0b3c6a575331c88ad16b
      size: 38049
    - path: cifar100_def_param_vs_adv_failure_rate.eps
      md5: 0922c6158a32388cc3862bfb27c079e3
      size: 36997
    - path: cifar100_log_logistic_aft.eps
      md5: 34accbd27057bb8b16e1e3718606defd
      size: 46636
    - path: cifar100_log_normal_aft.eps
      md5: ec35034e57bd31921afa05a92cab9ea5
      size: 47394
    - path: cifar100_log_normal_layers_partial_effect.eps
      md5: 10290e8299562af43b0a6a8a018de2eb
      size: 44746
    - path: cifar100_weibull_aft.eps
      md5: 29e366d68d0399782e0e57307d068923
      size: 44511
  prepare_images@cifar:
    cmd: python flatten.py --directories cifar
    deps:
    - path: cifar/
      md5: 81162598277558bb2a8294e9a85bee50.dir
      size: 1408806
      nfiles: 15
    - path: flatten.py
      md5: d203bc3a88a44cda3b794373cb379b25
      size: 2761
    outs:
    - path: cifar_adv_accuracy_vs_attack_type.eps
      md5: 431ebcf1cc479efa45e5c62c588561d6
      size: 106575
    - path: cifar_adv_accuracy_vs_defence_type.eps
      md5: 38ce13bff5e61190e16510c27ed461fc
      size: 98548
    - path: cifar_adv_failure_rate_vs_train_time.eps
      md5: 3bba94e6de8929e3c69f646a308fbeea
      size: 507471
    - path: cifar_adv_failures_per_train_time_vs_attack_type.eps
      md5: a8081610bed13d152fb9fa16c0ce0667
      size: 117314
    - path: cifar_adv_failures_per_train_time_vs_defence_type.eps
      md5: 3298a2b26bbf3c729a8ebacb0be3a190
      size: 99649
    - path: cifar_aft_comparison.tex
      md5: 569cc492fdd774c0a0af506af6724696
      size: 600
    - path: cifar_atk_param_vs_accuracy.eps
      md5: 8aad83470b03ad67c6da20118c3db8a7
      size: 37519
    - path: cifar_ben_accuracy_vs_defence_type.eps
      md5: 7aebdfba87139e9eeb5aa2db360769b7
      size: 83244
    - path: cifar_ben_failures_per_train_time_vs_defence_type.eps
      md5: 0ebab1801507e829505743aca2f0382f
      size: 96490
    - path: cifar_def_param_vs_accuracy.eps
      md5: dbdf3817907a801c76c9609f03604158
      size: 37876
    - path: cifar_def_param_vs_adv_failure_rate.eps
      md5: 90329883d47233ed28a238e4b7fd0d46
      size: 39890
    - path: cifar_log_logistic_aft.eps
      md5: 4b86aff4f085c05963e16f7083ed9d88
      size: 46602
    - path: cifar_log_normal_aft.eps
      md5: fd0feb4a9f3fae154044354568441086
      size: 47357
    - path: cifar_log_normal_layers_partial_effect.eps
      md5: d07f8960404fb5e58cef9d9d478225af
      size: 43910
    - path: cifar_weibull_aft.eps
      md5: 784605f2ecdb2a8a24c6c8ad6e84b60a
      size: 45761
  prepare_images@mnist:
    cmd: python flatten.py --directories mnist
    deps:
    - path: flatten.py
      md5: d203bc3a88a44cda3b794373cb379b25
      size: 2761
    - path: mnist/
      md5: 870d669ff1855ee247fe09cea10e6e29.dir
      size: 1779456
      nfiles: 15
    outs:
    - path: mnist_adv_accuracy_vs_attack_type.eps
      md5: 9ff93eaf038b28213e06d2ea38f3e1c9
      size: 113600
    - path: mnist_adv_accuracy_vs_defence_type.eps
      md5: 9a6efbb1b3a2e56bede2f3ba86d139c8
      size: 105721
    - path: mnist_adv_failure_rate_vs_train_time.eps
      md5: 48ce0007c4753735bd8e473893979e2f
      size: 798746
    - path: mnist_adv_failures_per_train_time_vs_attack_type.eps
      md5: ea1ca56a74c43f0a5085bcff31c4fab7
      size: 123494
    - path: mnist_adv_failures_per_train_time_vs_defence_type.eps
      md5: 90541490880cd0cd91f2c56493d42140
      size: 116302
    - path: mnist_aft_comparison.tex
      md5: 0034975eb38ed6deb1b6f325f714571f
      size: 600
    - path: mnist_atk_param_vs_accuracy.eps
      md5: 9d705bb761229f7d0a793c8cbe98c2ce
      size: 37595
    - path: mnist_ben_accuracy_vs_defence_type.eps
      md5: 77e57d983fac16bf0ebc603571cb8198
      size: 101387
    - path: mnist_ben_failures_per_train_time_vs_defence_type.eps
      md5: 8283265b875a97ded978bc453c330c54
      size: 116879
    - path: mnist_def_param_vs_accuracy.eps
      md5: 99366d86bd200d2cb06d68a57143509f
      size: 38918
    - path: mnist_def_param_vs_adv_failure_rate.eps
      md5: 3ef4570eef03a5b0da4a5a9388feb941
      size: 40619
    - path: mnist_log_logistic_aft.eps
      md5: 9330a8f658e0f6e7c64bbf44c9df21a2
      size: 46346
    - path: mnist_log_normal_aft.eps
      md5: a34130b884bcd593fe4922fac9258433
      size: 48850
    - path: mnist_log_normal_layers_partial_effect.eps
      md5: d0c8f3f9d7229bdcf196b23c585720e2
      size: 44637
    - path: mnist_weibull_aft.eps
      md5: 90018d131799658a4f736789c22c7b8f
      size: 45762
  arxiv:
    cmd: python arxiv.py --directories plots --extensions pdf py yaml csv --title
      "A Training Rate and Survival Heuristic for Inference and Robustness Evaluation
      (TRASHFIRE)"
    deps:
    - path: arxiv.py
      md5: f5bb6d08229986ad1aef6393da99720d
      size: 6958
    - path: plots/
      hash: md5
      md5: c234c3527312d52125e53440d502732d.dir
      size: 1307298
      nfiles: 41
    outs:
    - path: A Training Rate and Survival Heuristic for Inference and Robustness Evaluation
        (TRASHFIRE).zip
      hash: md5
      md5: 515d2ad4980f5a9f50711be5c7120354
      size: 129449
  first_run:
    cmd: pdflatex  main.tex
    deps:
    - path: 0-abstract.tex
      hash: md5
      md5: 04f793df45964622106e4fced993abef
      size: 1954
    - path: 1-introduction.tex
      hash: md5
      md5: 19d295722bb27a0ee4a452e2709176f6
      size: 6318
    - path: 2-background.tex
      hash: md5
      md5: fce435bfe64521b647ca49e1c8acab8f
      size: 8980
    - path: 3-afr.tex
      hash: md5
      md5: eb58f4f7d47efa75a871ba5cc68f232f
      size: 16422
    - path: 4-methods.tex
      hash: md5
      md5: 51c98a2773de497aac1c395e2491e32b
      size: 9985
    - path: 5-results.tex
      hash: md5
      md5: 16c61068d00fd88334ccd6e96cb459b6
      size: 10427
    - path: 6-conclusions.tex
      hash: md5
      md5: d387ca06e64bdf3eda75e7e83475e612
      size: 5088
    - path: main.tex
      hash: md5
      md5: 7eefbdecf1e4378672b30a5f69a12efd
      size: 1582
    outs:
    - path: main-blx.bib
      hash: md5
      md5: 5ba7332ec7ecc2dc9c6b1bd96e3d9aad
      size: 342
    - path: main.aux
      hash: md5
      md5: 5de78e9735de9342673159b601b7f99e
      size: 23761
    - path: main.log
      hash: md5
      md5: d398db52d4be4b5882a1faa374eaec71
      size: 63221
    - path: main.out
      hash: md5
      md5: 336943489b1b4629c41ebe3dcc90963a
      size: 4698
    - path: main.pdf
      hash: md5
      md5: 9dab22ebffadfb30cd9232aae3023ac2
      size: 549814
    - path: main.run.xml
      hash: md5
      md5: 2d22ad067e0890475f0a21e186e23136
      size: 2558
  bibtex:
    cmd: bibtex main
    deps:
    - path: bibliography.bib
      hash: md5
      md5: da181c0ccc91a95acc3060e33681f9d3
      size: 62310
    - path: main-blx.bib
      hash: md5
      md5: 5ba7332ec7ecc2dc9c6b1bd96e3d9aad
      size: 342
    - path: main.aux
      hash: md5
      md5: 84dfbeb551d9873cd443d807f5d3af55
      size: 31308
    - path: main.log
      hash: md5
      md5: 5631654bf204bd79cfcff83c3dc5aab7
      size: 50137
    - path: main.out
      hash: md5
      md5: 336943489b1b4629c41ebe3dcc90963a
      size: 4698
    - path: main.pdf
      hash: md5
      md5: 9eb494d7df4ef32f0c8aaa1159e56fde
      size: 567938
    - path: main.run.xml
      hash: md5
      md5: 2d22ad067e0890475f0a21e186e23136
      size: 2558
    outs:
    - path: main.bbl
      hash: md5
      md5: 86e6dd17e2e832df52df8a6380189f34
      size: 67311
  remove_unused_citations:
    cmd: python remove-unused-citations.py bibliography.bib <( checkcites main.aux
      )>| new_bibliography.bib
    deps:
    - path: bibliography.bib
      hash: md5
      md5: da181c0ccc91a95acc3060e33681f9d3
      size: 62310
    - path: main.aux
      hash: md5
      md5: 5de78e9735de9342673159b601b7f99e
      size: 23761
    - path: remove-unused-citations.py
      hash: md5
      md5: 927290ac3e417fb12efe93114b14f9d1
      size: 1341
    outs:
    - path: new_bibliography.bib
      hash: md5
      md5: da181c0ccc91a95acc3060e33681f9d3
      size: 62310
  replace_bib:
    cmd: cp main.tex new_main.tex &&  sed -i 's/bibliography.bib/new_bibliography.bib/g'
      new_main.tex
    deps:
    - path: main.tex
      hash: md5
      md5: 7eefbdecf1e4378672b30a5f69a12efd
      size: 1582
    - path: new_bibliography.bib
      hash: md5
      md5: da181c0ccc91a95acc3060e33681f9d3
      size: 62310
    outs:
    - path: new_main.tex
      hash: md5
      md5: 800d26549f2ddf82e4f2aff46ba2f410
      size: 1586
  big_run:
    cmd: pdflatex new_main.tex && bibtex new_main && pdflatex  new_main.tex && pdflatex  new_main.tex
    deps:
    - path: main.aux
      hash: md5
      md5: 5de78e9735de9342673159b601b7f99e
      size: 23761
    - path: main.tex
      hash: md5
      md5: 7eefbdecf1e4378672b30a5f69a12efd
      size: 1582
    - path: new_bibliography.bib
      hash: md5
      md5: da181c0ccc91a95acc3060e33681f9d3
      size: 62310
    outs:
    - path: new_main-blx.bib
      hash: md5
      md5: 5ba7332ec7ecc2dc9c6b1bd96e3d9aad
      size: 342
    - path: new_main.aux
      hash: md5
      md5: 43634fd9a1ab334042af71663ebc58db
      size: 31342
    - path: new_main.bbl
      hash: md5
      md5: 86e6dd17e2e832df52df8a6380189f34
      size: 67311
    - path: new_main.log
      hash: md5
      md5: f3685bc102af28208ae10da5096e694f
      size: 44419
    - path: new_main.out
      hash: md5
      md5: 336943489b1b4629c41ebe3dcc90963a
      size: 4698
    - path: new_main.pdf
      hash: md5
      md5: ff29d28a6a8183316f60c8b902f38b2f
      size: 571492
    - path: new_main.run.xml
      hash: md5
      md5: 61f7020ecb7b15a652cad2823b690dc4
      size: 2598
  pre-commmit:
    cmd: pre-commit run --all-files
